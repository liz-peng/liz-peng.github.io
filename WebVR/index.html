<html>
    <head>
        <title>Outer Space</title>
        <meta name="description" content="Using Point component for rendering very many points."></meta>
        <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script> 
        <script src="https://unpkg.com/aframe-point-component/dist/aframe-point-component.min.js"></script>
        <script src="https://unpkg.com/aframe-text-geometry-component@^0.5.0/dist/aframe-text-geometry-component.min.js"></script> 
        <script src="./hygdata.js"></script>
    </head>
    <body>
        <a-scene>
            <a-entity light="type: ambient; color: #fff"></a-entity>
            <!-- <a-sphere position="0 0 0" perspective="true" radius="0.2" color="#69d" id="earth-too-big"></a-sphere> -->
            <a-point position="0 0 0" color="#fff" size="0.05" perspective="true"></a-point>
            <a-sky color="#1b3a4d"></a-sky>
            <a-entity class="camwrap" position="0 0 0" rotation="90 180 180">
                <a-camera look-controls wasd-controls="fly:true acceleration:1" near="1" position="0 0 20" user-height="0" fov="60"></a-camera>
            </a-entity>
        </a-scene>
        <script>
            const mul = x => 0.07 * x
            const points = document.querySelector("a-point")
            const cam = document.querySelector("a-camera")
            setTimeout(function() {
                cam.components["wasd-controls"].keys["KeyW"] = true;
            }, 1000)
            setTimeout(function() {
                points.components.point.setPoints(
                    hygdata
                    .map(star => [mul(star.x), mul(star.y), mul(star.z)]))
            }, 1000)
        </script>
    </body>
</html>