<!DOCTYPE HTML>
<html>
	<head>
		<title>TheNatureOfCode - Showcase</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">
		<!-- wrapper -->
		<div id="wrapper">
			<!-- main -->
			<div id="main">
				<div class="inner">
					<!-- header -->
					<header id="header">
						The Nature Of Code &nbsp;<strong> Chp02 - Forces</strong>
							<ul class="icons">
								<li>
									<a href="https://github.com/liz-peng/TheNatureOfCode-p5.js.git" target="_blank" class="icon fa-github"></a>
								</li>
							</ul>
					</header>

					<!-- section 2.1 -->
					<section class="banner">
						<div class="content">
							<header>
								<h3>Example 2.1<br>Forces
								</h3>
							</header>
							<p>
								<a href="https://editor.p5js.org/liz-peng/sketches/xxZG1PxQV" target="_blank" class="button">p5.js</a>
							</p>
							<!-- code -->
							<pre><code>let mover;

function setup() {
  createCanvas(560,390);
  mover = new Mover();
}

function draw() {
  background(220);
  let wind = createVector(0.01, 0);
  let gravity = createVector(0, 0.1);
  mover.applyForce(wind);
  mover.applyForce(gravity);
  mover.update();
  mover.display();
  mover.checkEdges();
}

class Mover {
  constructor(){
    this.mass = 1; // object now has mass, set to 1 for simplicity
    this.location = createVector(30, 30);
    this.velocity = createVector(0, 0);
    this.acceleration = createVector(0, 0);
  }
  
  // Newton's second law: force=accelaration*mass
  applyForce(force) {
    // force/mass=acceleration
    var f = p5.Vector.div(force, this.mass); // receive force, divide by mass
    this.acceleration.add(f); // add force to acceleration
  }

  update() {
    this.velocity.add(this.acceleration);
    this.location.add(this.velocity);
    // clearing acceleration for each frame, so it wouldn't add onto itself from the previous frame
    this.acceleration.mult(0); 
  }

  display() {
    stroke(0);
    strokeWeight(2);
    fill(63,63,147);
    // scaling the size according to mass
    ellipse(this.location.x, this.location.y, this.mass*48, this.mass*48);
  }
  
  // object bounces when it hits the edge of window
  checkEdges() {
    if (this.location.x > width) {
      this.location.x = width;
      this.velocity.x *= -1;
    } else if (this.location.x < 0) {
      this.velocity.x *= -1;
      this.location.x = 0;
    }
    if (this.location.y > height) {
      this.velocity.y *= -1; // reverse the direction of object when it reaches the edge 
      this.location.y = height;
    }
  }
}
							</code></pre>
						</div>
						<span class="p5 object">
							<iframe style="width: 100%; height: 100%; overflow: hidden; padding-top: 36px;" scrolling="no" src="https://editor.p5js.org/liz-peng/embed/xxZG1PxQV"></iframe>
						</span>
					</section>
				</div>
			</div>
			
			<!-- sidebar -->
			<div id="sidebar">
				<div class="inner">
					<!-- menu -->
					<nav id="menu">
						<header class="major">
							<h2>The Nature Of Code</h2>
						</header>
						<ul>
							<li><a href="index.html">Introduction</a></li>
							<li><a href="vectors.html">Vectors</a></li>
              <li><a href="forces.html">Forces</a></li>
						</ul>
					</nav>
					
					<!-- Footer -->
					<footer id="footer">
						<ul class="contact">
							<li class="fa-envelope-o">speng2@wpi.edu&nbsp; (Liz Peng)</li>
						</ul>
					</footer>
				</div>
			</div>
		</div>

		<!-- scripts -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/browser.min.js"></script>
		<script src="assets/js/breakpoints.min.js"></script>
		<script src="assets/js/main.js"></script>

	</body>
</html>