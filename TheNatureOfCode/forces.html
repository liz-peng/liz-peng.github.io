<!DOCTYPE HTML>
<html>
	<head>
		<title>TheNatureOfCode - Showcase</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">
		<!-- wrapper -->
		<div id="wrapper">
			<!-- main -->
			<div id="main">
				<div class="inner">
					<!-- header -->
					<header id="header">
						The Nature Of Code &nbsp;<strong> Chp02 - Forces</strong>
							<ul class="icons">
								<li>
									<a href="https://github.com/liz-peng/TheNatureOfCode-p5.js.git" target="_blank" class="icon fa-github"></a>
								</li>
							</ul>
					</header>

					<!-- section 2.1 -->
					<section class="banner">
						<div class="content">
							<header>
								<h3>Example 2.1<br>Forces
								</h3>
							</header>
							<p>
								<a href="https://editor.p5js.org/liz-peng/sketches/xxZG1PxQV" target="_blank" class="button">p5.js</a>
							</p>
							<!-- code -->
							<pre><code>let mover;

function setup() {
  createCanvas(560,390);
  mover = new Mover();
}

function draw() {
  background(220);
  let wind = createVector(0.01, 0);
  let gravity = createVector(0, 0.1);
  mover.applyForce(wind);
  mover.applyForce(gravity);
  mover.update();
  mover.display();
  mover.checkEdges();
}

class Mover {
  constructor(){
    this.mass = 1; // object now has mass, set to 1 for simplicity
    this.location = createVector(30, 30);
    this.velocity = createVector(0, 0);
    this.acceleration = createVector(0, 0);
  }
  
  // Newton's second law: force=accelaration*mass
  applyForce(force) {
    // force/mass=acceleration
    var f = p5.Vector.div(force, this.mass); // receive force, divide by mass
    this.acceleration.add(f); // add force to acceleration
  }

  update() {
    this.velocity.add(this.acceleration);
    this.location.add(this.velocity);
    // clearing acceleration for each frame, so it wouldn't add onto itself from the previous frame
    this.acceleration.mult(0); 
  }

  display() {
    stroke(0);
    strokeWeight(2);
    fill(63,63,147);
    // scaling the size according to mass
    ellipse(this.location.x, this.location.y, this.mass*48, this.mass*48);
  }
  
  // object bounces when it hits the edge of window
  checkEdges() {
    if (this.location.x > width) {
      this.location.x = width;
      this.velocity.x *= -1;
    } else if (this.location.x < 0) {
      this.velocity.x *= -1;
      this.location.x = 0;
    }
    if (this.location.y > height) {
      this.velocity.y *= -1; // reverse the direction of object when it reaches the edge 
      this.location.y = height;
    }
  }
}
							</code></pre>
						</div>
						<span class="p5 object">
							<iframe style="width: 100%; height: 100%; overflow: hidden; padding-top: 36px;" scrolling="no" src="https://editor.p5js.org/liz-peng/embed/xxZG1PxQV"></iframe>
						</span>
					</section>

                    <!-- section 2.2 -->
                    <section class="banner">
                        <div class="content">
                            <header>
                                <h3>Example 2.2<br>Forces acting on many objects
                                </h3>
                            </header>
                            <p>
                                Because acceleration = force/mass, the larger the mass, the smaller the acceleration. So, the smaller circles reach the right of the window faster than the larger ones &nbsp; <a href="https://editor.p5js.org/liz-peng/sketches/q5M0WaN5f" target="_blank" class="button">p5.js</a>
                            </p>
                            <!-- code -->
                            <pre><code>let movers = [];

function setup() {
  createCanvas(560,390);
  for (let i = 0; i < 20; i++) {
    // initialize objects with random mass and start at 0,0
    movers[i] = new Mover(random(0.1,5),0,0);
  }
}

function draw() {
  background(220);
    for (let i = 0; i < movers.length; i++) {
    let wind = createVector(0.01,0);
    let gravity = createVector(0,0.1); // make up two forces
    // apply both forces to each objects
    movers[i].applyForce(wind);
    movers[i].applyForce(gravity);
    movers[i].update();
    movers[i].display();
    movers[i].checkEdges();
  }
}

class Mover {
  constructor(m, x, y) {
    // mass and location initialized via arguments now
    this.mass = m;
    this.location = createVector(x, y);
    this.velocity = createVector(0, 0);
    this.acceleration = createVector(0, 0);
  }
  
  applyForce(force) {
    // acceleration = force/mass
    let f = p5.Vector.div(force, this.mass);
    this.acceleration.add(f);
  }

  update() {
    this.velocity.add(this.acceleration);
    this.location.add(this.velocity);
    this.acceleration.mult(0); 
  }

  display() {
    stroke(0);
    strokeWeight(2);
    fill(63,63,147,150);
    // scaling the size according to mass
    // the smaller circles reach the right of the window faster than the larger ones
    // because acceleration = force/mass, the larger the mass, the smaller the acceleration
    ellipse(this.location.x, this.location.y, this.mass*16, this.mass*16);
  }
  
  // object bounces when it hits the edge of window
  checkEdges() {
    if (this.location.x > width) {
      this.location.x = width;
      this.velocity.x *= -1;
    } else if (this.location.x < 0) {
      this.velocity.x *= -1;
      this.location.x = 0;
    }
    if (this.location.y > height) {
      this.velocity.y *= -1; // reverse the direction of object when it reaches the edge 
      this.location.y = height;
    }
  }
}
                            </code></pre>
                        </div>
                        <span class="p5 object">
                            <iframe style="width: 100%; height: 100%; overflow: hidden; padding-top: 60px;" scrolling="no" src="https://editor.p5js.org/liz-peng/embed/q5M0WaN5f"></iframe>
                        </span>
                    </section>

                    <!-- section 2.3 -->
                    <section class="banner">
                        <div class="content">
                            <header>
                                <h3>Example 2.3<br>Gravity Scaled By Mass
                                </h3>
                            </header>
                            <p>
                                If the force is scaled according to mass, it is canceled out when acceleration is divided by mass, but the strength of the wind force is independent of mass, the smaller objects still accelerate to the right more quickly &nbsp; <a href="https://editor.p5js.org/liz-peng/sketches/l3pZwQQoe" target="_blank" class="button">p5.js</a>
                            </p>
                            <!-- code -->
                            <pre><code>let movers = [];

function setup() {
  createCanvas(560,390);
  for (let i = 0; i < 20; i++) {
    // initialize objects with random mass and start at 0,0
    movers[i] = new Mover(random(1,4),0,0);
  }
}

function draw() {
  background(220);
    for (let i = 0; i < movers.length; i++) {
    let wind = createVector(0.01,0);
    let gravity = createVector(0,0.1*movers[i].mass); // scaling gravity by mass to be more accurate
    // apply both forces to each objects
    movers[i].applyForce(wind);
    movers[i].applyForce(gravity);
    movers[i].update();
    movers[i].display();
    movers[i].checkEdges();
  }
}

class Mover {
  constructor(m, x, y) {
    // mass and location initialized via arguments now
    this.mass = m;
    this.location = createVector(x, y);
    this.velocity = createVector(0, 0);
    this.acceleration = createVector(0, 0);
  }
  
  applyForce(force) {
    // acceleration = force/mass
    let f = p5.Vector.div(force, this.mass);
    this.acceleration.add(f);
  }

  update() {
    this.velocity.add(this.acceleration);
    this.location.add(this.velocity);
    this.acceleration.mult(0); 
  }

  display() {
    stroke(0);
    strokeWeight(2);
    fill(63,63,147,150);
    ellipse(this.location.x, this.location.y, this.mass*16, this.mass*16);
  }
  
  // object bounces when it hits the edge of window
  checkEdges() {
    if (this.location.x > width) {
      this.location.x = width;
      this.velocity.x *= -1;
    } else if (this.location.x < 0) {
      this.velocity.x *= -1;
      this.location.x = 0;
    }
    if (this.location.y > height) {
      this.velocity.y *= -1; // reverse the direction of object when it reaches the edge 
      this.location.y = height;
    }
  }
}
                            </code></pre>
                        </div>
                        <span class="p5 object">
                            <iframe style="width: 100%; height: 100%; overflow: hidden; padding-top: 84px;" scrolling="no" src="https://editor.p5js.org/liz-peng/embed/l3pZwQQoe"></iframe>
                        </span>
                    </section>

                    <!-- section 2.4 -->
                    <section class="banner">
                        <div class="content">
                            <header>
                                <h3>Example 2.4<br>Including Friction
                                </h3>
                            </header>
                            <p>
                                Friction continuously pushes against the object in the opposite direction of its movement, the object continuously slows down &nbsp; <a href="https://editor.p5js.org/liz-peng/sketches/lbS-nmxTe" target="_blank" class="button">p5.js</a>
                            </p>
                            <!-- code -->
                            <pre><code>let movers = [];

function setup() {
  createCanvas(560,390);
  for (let i = 0; i < 20; i++) {
    // initialize objects with random mass and start at 0,0
    movers[i] = new Mover(random(0.1,5),0,0);
  }
}

function draw() {
  background(220);
    for (let i = 0; i < movers.length; i++) {
    let wind = createVector(0.01,0);
    let gravity = createVector(0,0.1*movers[i].mass);
    // friction = -1 * coefficient of friction * normal force * velocity unit vector
    let c = 0.01; // set coefficient of friction to 0.01
    let normal = 1; // set normal force to 1
    let frictionMag = c * normal; // magnitude of friction
    let friction = movers[i].velocity.copy(); // make a copy before using it (because object is pass by reference)
    friction.mult(-1);
    friction.normalize();
    friction.mult(frictionMag); // take unit vector and multiply it by magnitude = force vector
    // friction continuously pushes against the object in the opposite direction of its movement
    // the object continuously slows down
    movers[i].applyForce(friction); // apply friction force vector to objects
    movers[i].applyForce(wind);
    movers[i].applyForce(gravity);
    movers[i].update();
    movers[i].display();
    movers[i].checkEdges();
  }
}

class Mover {
  constructor(m, x, y) {
    // mass and location initialized via arguments
    this.mass = m;
    this.location = createVector(x, y);
    this.velocity = createVector(0, 0);
    this.acceleration = createVector(0, 0);
  }
  
  applyForce(force) {
    let f = p5.Vector.div(force, this.mass);
    this.acceleration.add(f);
  }

  update() {
    this.velocity.add(this.acceleration);
    this.location.add(this.velocity);
    this.acceleration.mult(0); 
  }

  display() {
    stroke(0);
    strokeWeight(2);
    fill(63,63,147,150);
    ellipse(this.location.x, this.location.y, this.mass*16, this.mass*16);
  }
  
  // object bounces when it hits the edge of window
  checkEdges() {
    if (this.location.x > width) {
      this.location.x = width;
      this.velocity.x *= -1;
    } else if (this.location.x < 0) {
      this.velocity.x *= -1;
      this.location.x = 0;
    }
    if (this.location.y > height) {
      this.velocity.y *= -1; 
      this.location.y = height;
    }
  }
}
                            </code></pre>
                        </div>
                        <span class="p5 object">
                            <iframe style="width: 100%; height: 100%; overflow: hidden; padding-top: 60px;" scrolling="no" src="https://editor.p5js.org/liz-peng/embed/lbS-nmxTe"></iframe>
                        </span>
                    </section>
				</div>
			</div>
			
			<!-- sidebar -->
			<div id="sidebar">
				<div class="inner">
					<!-- menu -->
					<nav id="menu">
						<header class="major">
							<h2>The Nature Of Code</h2>
						</header>
						<ul>
							<li><a href="index.html">Introduction</a></li>
							<li><a href="vectors.html">Vectors</a></li>
              <li><a href="forces.html">Forces</a></li>
						</ul>
					</nav>
					
					<!-- Footer -->
					<footer id="footer">
						<ul class="contact">
							<li class="fa-envelope-o">speng2@wpi.edu&nbsp; (Liz Peng)</li>
						</ul>
					</footer>
				</div>
			</div>
		</div>

		<!-- scripts -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/browser.min.js"></script>
		<script src="assets/js/breakpoints.min.js"></script>
		<script src="assets/js/main.js"></script>

	</body>
</html>